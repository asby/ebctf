#!/usr/bin/perl -l

# Fancy.pl
# - writes your name in a vertical banner

use strict;
use warnings;
use Getopt::Long;

my $help = '';
my $name = '';

GetOptions ("help" => \$help);
$name = $ARGV[0];
local $ENV{PATH}='/bin:/usr/bin';

if ( $help || ! $name)
{
    print "Usage: $0 name\n\n";
    exit;
}

my %chars = (
        "A" => '641278',
        "B" => '82124128',
        "C" => '852517',
        "D" => '851158',
        "E" => '8212221217',
        "F" => '7312131217',
        "G" => '8522125217',
        "H" => '731377',
        "I" => '77',
        "J" => '161677',
        "K" => '73223227',
        "L" => '861904',
        "M" => '7515171177',
        "N" => '73242377',
        "O" => '8587',
        "P" => '73121347',
        "Q" => '853487',
        "R" => '73123147',
        "S" => '1252125217',
        "T" => '068617',
        "U" => '8677',
        "V" => '017767',
        "W" => '0276332757',
        "X" => '3133133137',
        "Y" => '037747',
        "Z" => '24211323112427',
        "a" => '311211111259',
        "b" => '82134208',
        "c" => '013313121319',
        "d" => '43121377',
        "e" => '01511212111138',
        "f" => '641217',
        "g" => '12521287',
        "h" => '73134901',
        "i" => '4118',
        "j" => '165117',
        "k" => '73133128',
        "l" => '77',
        "m" => '461337134703',
        "n" => '46133803',
        "o" => '4312134505',
        "p" => '73121428',
        "q" => '0421312177',
        "r" => '551505',
        "s" => '11321111123119',
        "t" => '821406',
        "u" => '521659',
        "v" => '01421749',
        "w" => '014217241749',
        "x" => '2124142129',
        "y" => '12322738',
        "z" => '22121111121229',
        "0" => '0151151158',
        "1" => '14118904',
        "2" => '231111132238',
        "3" => '152212112128',
        "4" => '0225112177',
        "5" => '125212112317',
        "6" => '01511212112317',
        "7" => '06431347',
        "8" => '0121211212112128',
        "9" => '13211212112128',
        "." => '252507',
        " " => '070707',
        "{" => '0314511517',
        "}" => '15115413',
        );

sub convert($){
  $name = shift;
  $name =~ s,.,$chars{$&},eg;
  $name =~ s,(.)(.),'#'x$1.' 'x$2,eg;
  $name =~ s,.{7},$&\n,g;
  return $name;
}

$name =~ s/[^A-Za-z0-9. ]//g;
$name =~ s/(eval|system|exec|open)//g;
$name =~ /(^.{1,20})/;
my $a = eval "return q q".$1."q";
$a && print convert($a);
